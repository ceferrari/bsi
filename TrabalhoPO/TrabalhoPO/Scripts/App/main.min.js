function isJson(n){try{JSON.parse(n)}catch(t){return!1}return!0}function isHtml(n){return/<[a-z\][\s\S]*>/i.test(n)}function replaceHtml(n){document.open();document.write(n);document.close()}function htmlOrModal(n,t){isHtml(n)?replaceHtml(n):modal(n,t)}function showModal(n){$("body").append(n);$(".modal").modal("show")}function modal(n,t){isJson(n)||(n="{ 'Mensagem':'"+n+"'}");$.get("/Home/Modal",{jsonModal:n,tipo:t},function(n){showModal(n)})}function AddAntiForgeryToken(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),n}function exclui(n,t){var i="/"+n+"/Excluir",r=AddAntiForgeryToken({id:t});$.post(i,r,function(){$("#"+n+t).length?$("#"+n+t).remove():window.location.href="/"+n+"/Index"})}$(document).ready(function(){$(".input-validation-error").parents(".form-group").addClass("has-error")});$(document).on("hidden.bs.modal",".modal",function(){var n=window.location.href;if(/Criar/i.test(n))return window.location.href=n.replace(/Criar.*/,"Index"),!1;if(/Editar/i.test(n))return $.get(window.location.href,function(n){replaceHtml(n)}),!1;$(this).remove()});$("a[data-toggle=modal]").on("click",function(){$.get(this.href,function(n){showModal(n)})});$(".form-crud").submit(function(){return $.ajax({url:this.action,type:this.method,data:AddAntiForgeryToken($(this).serialize()),success:function(n){htmlOrModal(n,"Sucesso")},error:function(n){htmlOrModal(n,"Erro")}}),!1});