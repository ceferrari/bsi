function excluirModal(n,t){var i="/"+n+"/ExcluirModal";$.get(i,{id:t},function(n){appendModal("ExcluirModal",n)})}function exclui(n,t){var i="/"+n+"/Excluir";$.post(i,{id:t},function(){$("#"+n+t).length?$("#"+n+t).remove():window.location.href="/"+n+"/Index"})}function erroModal(n){$.get("/Erro/ErroModal",{mensagem:n},function(n){appendModal("ErroModal",n)})}function appendModal(n,t){$("body").append("<div id='"+n+"' class='modal fade in' role='dialog'><\/div>");$("#"+n).html(t);$("#"+n).modal("show")}function altera(n,t){var i=parseInt($(n).val().replace(/\./g,""));$(n).val(i+t<0?0:(i+t).toLocaleString())}function insere(n){if(n===0||n===null)altera("#EstoqueAtual",1);else $.post("/Produto/Insere",{id:n},atualiza)}function retira(n){if(n===0||n===null)altera("#EstoqueAtual",-1);else $.post("/Produto/Retira",{id:n},atualiza)}function aumentaMinimo(n){if(n===0||n===null)altera("#EstoqueMinimo",1);else $.post("/Produto/AumentaMinimo",{id:n},atualiza)}function diminuiMinimo(n){if(n===0||n===null)altera("#EstoqueMinimo",-1);else $.post("/Produto/DiminuiMinimo",{id:n},atualiza)}function atualiza(n){$("#EstoqueAtual"+n.Id).html(n.EstoqueAtual.toLocaleString());$("#EstoqueMinimo"+n.Id).html(n.EstoqueMinimo.toLocaleString());$("#PrecisaReposicao"+n.Id).html(n.PrecisaReposicao===!0?"Sim":"N\u00e3o");var t=new Date(parseInt(n.DataAlteracao.substr(6))),i=(t.getDate()<10?"0":"")+t.getDate(),r=(t.getMonth()<9?"0":"")+(t.getMonth()+1),u=(t.getFullYear()<10?"0":"")+t.getFullYear(),f=(t.getHours()<10?"0":"")+t.getHours(),e=(t.getMinutes()<10?"0":"")+t.getMinutes(),o=(t.getSeconds()<10?"0":"")+t.getSeconds();$("#DataAlteracao"+n.Id).html(i+"/"+r+"/"+u+" @ "+f+":"+e+":"+o)}$(document).ready(function(){$(".input-validation-error").parents(".form-group").addClass("has-error");$("#Preco").on("paste focusout",function(){var n=parseFloat($(this).val().replace(/\./g,"").replace(",",".")).toFixed(2);$(this).val((isNaN(n)||n<0?0:n*1).toLocaleString([],{minimumFractionDigits:2}))});$("#EstoqueAtual, #EstoqueMinimo").on("paste focusout",function(){var n=parseInt($(this).val().replace(/\./g,""));$(this).val(isNaN(n)||n<0?0:(n*1).toLocaleString())})});$(document).on("hidden.bs.modal","#ExcluirModal",function(){$(this).remove();history.go(-1)});